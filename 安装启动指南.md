# XmovAvatarSDK-main 安装和启动指南

## 📋 前置要求

### 1. 环境检查

确保已安装以下软件：

- **Node.js**: >= 16.0.0
- **包管理器**: pnpm (推荐) 或 npm/yarn

#### 检查 Node.js 版本
```bash
node -v
```

如果未安装 Node.js，请访问 [Node.js 官网](https://nodejs.org/) 下载安装。

#### 安装 pnpm (推荐)
```bash
# 使用 npm 安装
npm install -g pnpm

# 或使用其他方式
# Windows (PowerShell)
iwr https://get.pnpm.io/install.ps1 -useb | iex

# macOS/Linux
curl -fsSL https://get.pnpm.io/install.sh | sh -
```

检查 pnpm 版本：
```bash
pnpm -v
```

## 🚀 安装步骤

### 1. 进入项目目录

```bash
cd XmovAvatarSDK-main
```

### 2. 安装依赖

使用 pnpm (推荐)：
```bash
pnpm install
```

或使用 npm：
```bash
npm install
```

或使用 yarn：
```bash
yarn install
```

### 3. 等待安装完成

安装过程可能需要几分钟，取决于网络速度。

## ▶️ 启动项目

### 开发环境启动

```bash
# 使用 pnpm
pnpm run dev

# 或使用 npm
npm run dev

# 或使用 yarn
yarn dev
```

启动成功后，终端会显示类似以下信息：
```
  VITE v7.1.2  ready in 500 ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
```

### 访问应用

在浏览器中打开显示的地址（通常是 `http://localhost:5173/`）

## 🔧 其他命令

### 构建生产版本

```bash
pnpm run build
```

构建完成后，文件会输出到 `dist` 目录。

### 预览构建结果

```bash
pnpm run preview
```

## ⚙️ 配置说明

启动应用后，需要在右侧配置面板中配置以下参数：

### 1. 虚拟人 SDK 配置

- **应用 APP ID**: 从 [魔珐星云](https://c.c1nd.cn/9C9WW) 获取
- **应用 APP Secret**: 从 [魔珐星云](https://c.c1nd.cn/9C9WW) 获取

### 2. 语音识别配置（可选）

- **ASR App ID**: 腾讯云语音识别应用ID
- **ASR Secret ID**: 腾讯云访问密钥ID
- **ASR Secret Key**: 腾讯云访问密钥

获取方式：[腾讯云ASR](https://cloud.tencent.com/product/asr?Is=sdk-topnav)

### 3. 大语言模型配置

- **模型选择**: 
  - `deepseek-chat` (默认，已预填 API Key)
  - `doubao-1-5-pro-32k-250115`
- **API Key**: 
  - DeepSeek: 默认已预填，可点击眼睛图标查看/隐藏
  - 如需使用其他模型，请填入对应的 API Key

## 🎯 使用流程

1. **配置参数**: 在右侧"配置"Tab中填入所需的API配置信息
2. **建立连接**: 点击"连接"按钮初始化虚拟人SDK
3. **开始对话**: 
   - 在"对话"Tab中输入文本消息，点击"发送"
   - 或点击"语音输入"按钮进行语音对话
4. **查看回复**: 虚拟人会播报AI回复，同时显示字幕和背景图片（如果消息中包含图片）


## 🐛 常见问题

### 1. 端口被占用

如果 5173 端口被占用，Vite 会自动尝试其他端口。或者可以手动指定端口：

```bash
pnpm run dev -- --port 3000
```

### 2. 依赖安装失败

- 检查网络连接
- 尝试清除缓存后重新安装：
  ```bash
  # pnpm
  pnpm store prune
  pnpm install
  
  # npm
  npm cache clean --force
  npm install
  ```

### 3. SDK 加载失败

- 检查网络连接，确保可以访问 CDN
- 查看浏览器控制台的错误信息
- 确保已正确配置虚拟人 SDK 的 App ID 和 App Secret

### 4. 麦克风权限

语音输入功能需要浏览器麦克风权限，请确保：
- 浏览器已授予麦克风权限
- 使用 HTTPS 或 localhost 访问（某些浏览器要求）

## 📝 注意事项

1. **API 配置**: 确保所有 API 配置信息正确填写
2. **网络连接**: 需要稳定的网络连接以确保 SDK 和 API 正常工作
3. **浏览器兼容**: 建议使用现代浏览器（Chrome、Edge、Firefox 最新版本）
4. **麦克风权限**: 语音功能需要浏览器麦克风权限

## 🔗 相关链接

- [魔珐星云 SDK](https://c.c1nd.cn/9C9WW)
- [腾讯云 ASR](https://cloud.tencent.com/product/asr?Is=sdk-topnav)
- [DeepSeek API](https://api.deepseek.com)
- [Vite 文档](https://vitejs.dev/)

